---
import Base from "../layouts/Base.astro";
import "../styles/global.css";
import Hero from "../components/Hero.astro";
import Container from "../components/Container.astro";
import Section from "../components/Section.astro";
import Card from "../components/Card.astro";
import ProjectCard from "../components/ProjectCard.astro";
import HighlightList from "../components/HighlightList.astro";
import ChangelogList from "../components/ChangelogList.astro";
import { PROJECTS, type Project } from "../lib/utils";

const featured = PROJECTS.filter(p => p.featured).slice(0, 6);
const base = import.meta.env.BASE_URL;
---
<Base title="Aurora.dev — Início" description="Portfólio com IA, Astro + Tailwind">
  <Hero />

  <Container>
    <Section id="agora" title="Agora" subtitle="O que estou fazendo neste momento">
      <div class="grid gap-6 md:grid-cols-2">
        <Card class="p-6">
          <h3 class="font-semibold text-slate-100">Explorando o Design System</h3>
          <p class="mt-2 text-slate-300">Gradientes, glassmorphism e animações leves estão ativos.</p>
        </Card>
        <Card class="p-6">
          <h3 class="font-semibold text-slate-100">Pronto para IA</h3>
          <p class="mt-2 text-slate-300">Scripts de ingestão/IA pré-geram conteúdo semanal.</p>
        </Card>
      </div>
    </Section>

    <Section id="destaques" title="Projetos em destaque" subtitle="Uma amostra. Veja todos na página de projetos.">
      <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {featured.map((p: Project) => (
          <ProjectCard project={p} />
        ))}
      </div>
      <div class="mt-8">
        <a href={`${base}projetos`} class="btn">Ver todos os projetos</a>
      </div>
    </Section>

    <!-- Novas seções -->
    <Section id="highlights">
      <HighlightList limit={3} />
    </Section>

    <Section id="changelog">
      <ChangelogList />
    </Section>
  </Container>
</Base>